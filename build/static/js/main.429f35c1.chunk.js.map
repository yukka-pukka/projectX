{"version":3,"sources":["components/header.js","components/footer.js","UserContext.js","components/Map.js","components/reviews/star.js","components/reviews/reviewform.js","components/reviews/list.js","components/reviews/index.js","utils/firebase.js","components/user/form.js","components/user/login.js","components/profile/index.js","components/privateroute.js","components/routes.js","App.js","index.js"],"names":["Header","className","to","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","id","Footer","UserContext","React","createContext","user","undefined","setUser","mapContainerStyle","width","height","center","lat","lng","options","styles","mapStyles","disableDefaultUI","zoomControl","Map","props","useContext","useState","restaurants","setRestaurants","console","log","filter","r","Location","Search","search","firebase","database","ref","on","snapshot","filteredResults","Array","from","val","result","i","a","Name","toLowerCase","includes","useLoadScript","googleMapsApiKey","process","REACT_APP_GOOGLE_MAPS_API_KEY","isLoaded","loadError","selected","setSelected","URLSearchParams","location","get","query","setQuery","useEffect","onSubmit","e","preventDefault","onClick","set","userID","uid","then","value","disabled","onInput","target","zoom","map","restaurant","position","onCloseClick","Address","Star","state","rating","stars","push","data-rating","setState","points","name","this","placeholder","onChange","handleInputChange","Component","Form","isActive","isSubmitted","review","bind","submitForm","validation","event","List","reviews","sort","b","date","index","Review","Date","setDate","getDate","renderForm","renderReviews","slice","parseInt","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","db","firestore","collection","LoginForm","register","email","password","handleForm","createUserWithEmailAndPassword","response","context","history","sendEmailVerification","catch","error","signInWithEmailAndPassword","changeHandler","prevState","handleLogout","signOut","message","handleGetUserInfo","getUser","currentUser","contextType","Login","Profile","style","display","justifyContent","margin","borderRadius","PrivateRoute","children","rest","render","pathname","Routes","role","exact","path","src","component","App","onAuthStateChanged","Provider","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.429f35c1.chunk.js","sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nconst Header = () => {\n  return (\n    <header>\n      <nav className=\"navbar navbar-expand-md navbar-dark  fixed-top bg-dark\">\n\n        <Link className=\"navbar-brand\" to=\"/\">\n\n          Dine for a Cause\n        </Link> \n        <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarCollapse\" aria-controls=\"navbarCollapse\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n          <span className=\"navbar-toggler-icon\"></span>\n        </button>\n\n        <div className=\"collapse navbar-collapse\" id=\"navbarCollapse\">\n          <ul className=\"navbar-nav mr-auto\">\n            <li className=\"nav-item active\">\n              <Link className=\"nav-link\" to=\"/\">\n                Home\n              </Link>\n            </li>\n            <li className=\"nav-item active\">\n              <Link className=\"nav-link\" to=\"/restaurants\">\n                Restaurants\n              </Link>\n            </li>\n            <li className=\"nav-item\">\n              <Link className=\"nav-link\" to=\"/login\">\n                Login\n              </Link>\n            </li>\n            <li className=\"nav-item active\">\n              <Link className=\"nav-link\" to=\"/reviews\">\n                Ratings\n              </Link>\n            </li>\n            <li className=\"nav-item active\">\n              <Link className=\"nav-link\" to=\"/profile\">\n                Profile\n              </Link>\n            </li>\n          </ul>\n        </div>\n      </nav>\n    </header>\n  );\n};\n\nexport default Header;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst Footer = () => {\n    return (\n        <footer className=\"container\">\n            <p className=\"float-right\"><Link to=\"#\">Back to top</Link></p>\n            <p>© 2017-2019 Company, Inc. · <Link to=\"#\">Privacy</Link> · <Link to=\"#\">Terms</Link></p>\n        </footer>\n    );\n};\n\nexport default Footer;\n\n","import React from 'react';\n\nconst UserContext = React.createContext({\n    user: undefined,\n    setUser: () => {}\n});\n\nexport default UserContext;","import React, { useState } from \"react\";\n\nimport {\n  GoogleMap,\n  useLoadScript,\n  Marker,\n  InfoWindow,\n} from \"@react-google-maps/api\";\n\nimport mapStyles from \"../mapStyles\";\nimport firebase from \"firebase\";\nimport UserContext from \"../UserContext\"\n\n\n\nconst mapContainerStyle = {\n  width: \"90vw\",\n  height: \"90vh\",\n};\n\nconst center = {\n  lat: 47.620084,\n  lng: -122.320126,\n};\n\nconst options = {\n  styles: mapStyles,\n  disableDefaultUI: true,\n  zoomControl: true,\n};\n\n// const onLoad = (marker) => {\n//   console.log(\"marker: \", marker);\n// };\n\nconst position = {\n  lat: 47.605,\n  lng: -122.3344,\n};\n\nfunction Map(props) {\n  const { user } = React.useContext(UserContext)\n  const [restaurants, setRestaurants] = useState([]);\n  console.log(restaurants && restaurants.filter(r => !r.Location.lng))\n\n  const Search = (search) => {\n    const r = firebase.database().ref(\"Restaurants\");\n    r.on(\"value\", (snapshot) => {\n      let filteredResults = Array.from(snapshot.val()).filter((result, i, a) =>\n        result.Name.toLowerCase().includes(search)\n      );\n      setRestaurants(filteredResults);\n    });\n  };\n \n  \n\n  const saveResults = () => {\n    const r = firebase.database().ref(\"Searches\");\n    r.set({\n      restaurants: restaurants,\n      userID: user.uid,\n      query: query,\n    });\n\n    r.get().then((snapshot) => {\n      console.log('saved searches', snapshot.val());\n    })\n    console.log(restaurants);\n  };\n\n  const { isLoaded, loadError } = useLoadScript({\n    googleMapsApiKey: process.env.REACT_APP_GOOGLE_MAPS_API_KEY,\n  });\n\n  const [selected, setSelected] = React.useState(null);\n  const [query, setQuery] = React.useState(\n    new URLSearchParams(props.location.search).get(\"q\") || ''\n  );\n\n  React.useEffect(() => {\n    Search(query)\n  }, [])\n\n  if (loadError) return \"Error loading maps\";\n\n  return (\n    <div>\n      <form\n        onSubmit={(e) => {\n          e.preventDefault();\n          Search(query);\n        }}\n      >\n        <input type=\"button\" onClick={saveResults} value=\"Save Search\" disabled={!user} />\n        <input\n          onInput={(e) => {\n            console.log(e.target.value);\n            setQuery(e.target.value);\n          }}\n          type=\"search\"\n          value={query}\n        ></input>\n      </form>\n\n      {isLoaded && (\n        <GoogleMap\n          mapContainerStyle={mapContainerStyle}\n          zoom={13}\n          center={center}\n          options={options}\n          id=\"marker-example\"\n        >\n          {restaurants.map((restaurant) => (\n            <Marker\n              key={restaurant.Name}\n              // onLoad={onLoad}\n              position={{\n                lat: restaurant.Location.lat,\n                lng: restaurant.Location.lng,\n              }}\n              onClick={() => {\n                setSelected(restaurant);\n              }}\n            />\n          ))}\n\n          {selected ? (\n            <InfoWindow\n              position={{\n                lat: selected.Location.lat,\n                lng: selected.Location.lng,\n              }}\n              onCloseClick={() => {\n                setSelected(null);\n              }}\n            >\n              <div>\n                <h2> {selected.Name} </h2>\n                <p>{selected.Address}</p>\n              </div>\n            </InfoWindow>\n          ) : null}\n        </GoogleMap>\n      )}\n    </div>\n  );\n}\n\nexport default Map;\n","import React from \"react\";\nimport react, {Component} from 'react';\nimport './star.css';\n// // import ReactStars from \"react-rating-stars-component\";\n\nclass Star extends Component {\n    constructor( props ) {\n              super( props );\n              this.state = { rating: this.props.rating }\n              }\n          \n\n    render()\n    {\n        const stars = [];\n            \n        for (let i = 0; i < 5; i++)\n        {\n            stars.push(<svg height=\"25\" width=\"23\" value= \"3.5\" className={\"star rating-stars\" + (this.state.rating > i ?  ' checked': \"\")} data-rating={this.props.rating}\n            \n            key = {i}\n\n            onClick={() => {\n                this.setState({ rating: i+1 })\n                this.props.onClick(i+1)\n                }}>\n            <polygon points=\"9.9, 1.1, 3.3, 21.78, 19.8, 8.58, 0, 8.58, 16.5, 21.78\"/>\n            </svg>)\n        }\n                              \n        return (\n            <div className=\"rating\">\n                <span className=\"rating__prefix font-size-small\">Review</span>\n                <input type=\"hidden\" name=\"rating\" value={this.props.rating}/>\n                <input type=\"text\" value={this.props.name} name=\"name\" placeholder=\"Naam\"\n                    onChange={this.handleInputChange}/>\n\n                {stars}\n            </div>\n        );\n    }\n}\n\n// // const star  = {\n// //     size: 60,\n// //     isHalf: true,\n// //     char: \"\",\n// //     value: 3.5,\n//     // onChange: newRating => {\n//     //   console.log(`new rating is ${newRating}`);\n//     // }\n// // }\n\n// export default Star;\n\n\n\n\n// function Star( props ){\n//     return (\n//       <div className={`star ${(props.value == 0) ? 'semi-active' : ''} ${(props.position <= props.rated) ? 'active' : ''} `} \n//            onMouseEnter={ props.onMouseEnter }\n//            onMouseLeave={ props.onMouseLeave }\n//            onClick={ props.onClick }\n  \n//       >\n//         <i className=\"fas fa-star\"></i>\n//       </div>\n//     );\n//   }\n\n\n  \n//   function Rating( props ){\n//     const messages = {\n//       \"1\": \"Oh. Sorry you had a bad experience :( \",\n//       \"2\": \"We will try to improve.\",\n//       \"3\": \"Appreciate it!\",\n//       \"4\": \"Thank you!\", \n//       \"5\": \"You're Awesome!\"\n//     };\n    \n//     let rating = props.rating;\n    \n//     return(\n//         <div className={\"after-rating-message \" + ((rating > 0) ? 'show': '')} >\n//             <span>You rated this {rating} star{rating > 1 ? 's' : ''}</span>\n//             <br/>\n//             <span>{ messages[rating] }</span>\n//         </div>\n//     );\n//   }\n  \n  \n//   class RatingWidget extends React.Component {\n//     constructor( props ) {\n//       super( props );\n//       this.state = {\n//         stars: Array(5).fill(-1),\n//         rated: 0\n//       };\n//     }\n    \n//     handleMouseOver( i ) {\n//       let currentRating = this.state.rated;\n      \n//       if ( currentRating > 0 ) {\n//         const hoverRatedStars = this.state.stars.slice();\n//         _.fill( hoverRatedStars, 0, currentRating, i );\n//         this.setState({ stars: hoverRatedStars });\n//       }\n//       else {\n//         const hoverStars = Array(5).fill(-1);\n\n//         _.fill( hoverStars, 0, 0, (i+1) );     \n//         this.setState({ stars: hoverStars});\n//       }\n//     }\n    \n//     handleMouseOut() {\n//       let currentRating = this.state.rated;\n//       if ( currentRating > 0) {\n//         const resetRatedStars = this.state.stars.slice();\n//         _.fill( resetRatedStars, -1, currentRating, resetRatedStars.length );\n//         this.setState({stars: resetRatedStars});\n//       }\n//       else {\n//         const resetStars = this.state.stars.slice();\n//         _.fill( resetStars, -1, 0, resetStars.length );\n//         this.setState({stars: resetStars});\n//       }\n//     }\n    \n//     handleClick( i ) {\n//       const clickedStar = this.state.stars.slice();\n      \n//       _.fill( clickedStar, 1, 0, i );\n//       _.fill( clickedStar, 1, i, clickedStar.length );\n        \n//       this.setState({\n//         stars: clickedStar,\n//         rated: i\n//       });\n//     }\n    \n    \n//     handleRating( rating ){\n//       return (<Rating rating={this.state.rated} />)\n//     }\n    \n//     renderStar( i ){\n//       return (\n//         <Star \n//           position={i}\n//           value={this.state.stars[i]} \n//           rated={this.state.rated}\n//           onMouseEnter={ () => this.handleMouseOver(i) }\n//           onMouseLeave={ () => this.handleMouseOut() }\n//           onClick={ () => this.handleClick(i) }\n//           />\n//       );\n//     }\n    \n//     render(){\n//       return (\n//         <div className='rating-stars-widget-outer'>\n//             <div className='rating-stars'>\n//               {this.renderStar(1)}\n//               {this.renderStar(2)}\n//               {this.renderStar(3)}\n//               {this.renderStar(4)}\n//               {this.renderStar(5)}\n//             </div>\n          \n//             {this.handleRating( this.state.rated )}\n//         </div>\n        \n        \n//       );\n//     }\n//   }\n\n  export default Star;\n\n  \n  \n//   ReactDOM.render(<RatingWidget />, document.getElementById(\"widget\"));\n\n","import React, {Component} from 'react';\nimport Star from './star.js';\n\n\nclass Form extends Component {\n    constructor()\n    {\n        super();\n\n        this.state = {\n            isActive: false,\n            isSubmitted: false,\n            rating: 0,\n            name: '',\n            review: '',\n        };\n\n        this.handleInputChange = this.handleInputChange.bind(this);\n    }\n\n    render()\n    {\n        return (\n            <div className=\"review-form bg-white content-padding block-margin-top\">\n\n                <form className={this.state.isActive ? '' : 'hide'} onSubmit={this.props.submitForm}>\n\n                    {this.props.validation}\n                    \n                    <textarea name=\"review\" value={this.props.review} placeholder=\"Put your review here.\"\n                              onChange={this.handleInputChange}/>\n                    <Star \n                    rating = {this.state.rating}\n                    onClick={(rating) => this.setState({...this.state,rating})}\n                       \n                    />;\n\n                    <button className=\"button\" type=\"submit\" value=\"Submit\">\n                        Submit \n                    </button>\n                </form>\n\n            \n\n            </div>\n        )\n    }\n\n    showForm()\n    {\n        this.setState({...this.state, isActive: true});\n    }\n\n    handleInputChange(event)\n    {\n        const target = event.target;\n        const value = target.value;\n        const name = target.name;\n\n        this.setState({...this.state, [name]: value})\n    }\n}\n\nexport default Form;\n\n\n// class addCommentForm extends Component {\n//     constructor(props) {\n//       super(props);\n//       this.state = {\n//         author_name: '',\n//         rating: 5,\n//         text: ''\n//       };\n//     }\n  \n//     onChangeHander = e => {\n//       let value = e.target.value;\n//       switch (e.target.name) {\n//         case 'author':\n//           this.setState({\n//             author_name: value\n//           });\n//           break;\n//         case 'comment_text':\n//           this.setState({\n//             text: value\n//           });\n//           break;\n//         case 'star':\n//           this.setState({\n//             rating: parseInt(value, 10)\n//           });\n//           break;\n//         default:\n//           return null;\n//       }\n//     };\n  \n//     onSubmitHandler = e => {\n//       e.preventDefault();\n//     };\n  \n//     render() {\n//       let form = null;\n  \n//       // properties\n//       const { active, targetRestaurant, filterObject } = this.props;\n  \n//       // Methods\n//       const {\n//         toggleCommentForm,\n//         addComment,\n//         turnOffAddCommentButton,\n//         filterRestaurants,\n//         mapBounds\n//       } = this.props;\n  \n//       if (active) {\n//         form = (\n//           <div className=\"form-backdrop\">\n//             <div onClick={toggleCommentForm} className=\"close-btn\">\n//               <i className=\"far fa-window-close\" />\n//             </div>\n//             <form\n//               autoComplete=\"off\"\n//               className=\"AddCommentForm border border-success px-5 py-2 rounded\"\n//               onSubmit={e => {\n//                 this.onSubmitHandler(e);\n//                 addComment(\n//                   { ...this.state, time: getTimeStamp() },\n//                   targetRestaurant\n//                 );\n//                 turnOffAddCommentButton(targetRestaurant);\n//                 filterRestaurants(filterObject, mapBounds);\n//               }}\n//             >\n//               <div className=\"form-group\">\n//                 <label className=\"text-light\" htmlFor=\"\">\n//                   Name: <span className=\"text-danger\">*</span>\n//                 </label>\n//                 <input\n//                   name=\"author\"\n//                   type=\"text\"\n//                   className=\"form-control\"\n//                   onChange={e => {\n//                     this.onChangeHander(e);\n//                   }}\n//                   required\n//                 />\n//               </div>\n//               <RatingStar onchange={this.onChangeHander} />\n//               <div className=\"form-group\">\n//                 <label className=\"text-light\" htmlFor=\"\">\n//                   Comment:\n//                 </label>\n//                 <textarea\n//                   className=\"form-control\"\n//                   name=\"comment_text\"\n//                   onChange={e => {\n//                     this.onChangeHander(e);\n//                   }}\n//                 />\n//               </div>\n//               <input\n//                 type=\"submit\"\n//                 className=\"btn btn-success btn-sm\"\n//                 value=\"Submit\"\n//               />\n//             </form>\n//           </div>\n//         );\n//       }\n//       return form;\n//     }\n//   }\n  ","import React, {Component} from 'react';\nimport Review from './reviewform.js';\n\nclass List extends Component {\n    render()\n    {\n        return (\n            <ul className=\"reviews__list\">\n                {this.props.reviews.sort((a,b) => b.date - a.date).map((review, index) => <Review index={index} {...review} />)}\n            </ul>\n        );\n    }\n}\n\nexport default List;\n\n","\nimport React, {Component} from 'react';\nimport List from './list.js';\nimport Form from './reviewform.js';\n// import './css/reviews.css';\n\n\n\nclass Review extends Component {\n    constructor()\n    {\n        super();\n\n        this.state = {\n            reviews: [\n                {\n                    rating: 2,\n                    name: 'Laleeba',\n                    review: 'Aweful Place.\\n\\n Food is disgusting.',\n                    date: new Date(new Date().setDate(new Date().getDate() - 10))\n                }\n            ],\n            validation: ''\n        };\n\n        this.submitForm = this.submitForm.bind(this);\n    }\n\n\n\n    render()\n    {\n        return (\n            <div className=\"bg-light-gray global-padding-bottom\">\n                <section className=\"reviews\">\n\n                    <header className=\"hero bg-black text-color-white global-padding-vertical overlay\">\n                        <div className=\"area align-center text-center row\">\n                            <h1 className=\"small-12 medium-6 columns\">\n                                <span className=\"font-weight-regular\">Reviews and ratings</span><br />\n                                {/* <span className=\"font-size-xxlarge text\">N/A</span> */}\n                            </h1>\n                        </div>\n                    </header>\n\n                    <div className=\"row align-center content-margin-top-negative\">\n                        <div className=\"small-12 medium-8 large-6 columns\">\n                            <div className=\"content-padding bg-white area\">\n\n                                <p className=\"font-size-medium\">\n                                    Please share your experience!&nbsp;\n                                \n                                </p>\n                            </div>\n                            {this.renderForm()}\n                            {this.renderReviews()}\n                        </div>\n                    </div>\n\n\n                </section>\n            </div>\n\n        );\n    }\n\n    renderList()\n    {\n        return <List reviews={this.state.reviews}/>;\n    }\n\n    renderForm()\n    {\n        return <Form submitForm={this.submitForm} validation={this.state.validation}/>;\n    }\n\n    renderReviews()\n    {\n        return this.state.reviews.map(review=>{\n            return( <div>\n               <div> {\n                    review.name\n                \n                      }</div> \n                <div> {\n                    review.review\n                \n                      }</div> \n                <div> {\n                    review.rating\n                \n                      }</div> \n            </div>)\n        });\n    }\n\n    submitForm(event)\n    {\n        event.preventDefault();\n        const reviews = this.state.reviews.slice();\n\n        this.setState({\n            ...this.state,\n            validation: ''\n        });\n\n        reviews.push({\n            rating: parseInt(event.target.rating.value),\n            name: event.target.name.value,\n            review: event.target.review.value,\n            date: new Date()\n        });\n        console.log(reviews)\n        this.setState({\n            ...this.state,\n            reviews: reviews,\n            validation: ''\n        });\n    }\n}\n\nexport default Review;","import firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport 'firebase/auth';\n\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyABg265GZXoXGziI7VbMm_SsPT3zJ_syNI\",\n  authDomain: \"yuliacapstone.firebaseapp.com\",\n  projectId: \"yuliacapstone\",\n  storageBucket: \"yuliacapstone.appspot.com\",\n  messagingSenderId: \"79249118421\",\n  appId: \"1:79249118421:web:68288a1cf89de26664fe5c\",\n  measurementId: \"G-7970H4F1F7\"\n};\n \n\nfirebase.initializeApp(firebaseConfig);\nfirebase.auth(); \n \n\nexport const db = firebase.firestore();\nexport const restaurantsCollection = db.collection('restaurants');\nexport const usersCollection = db.collection('users')\nexport default firebase;\n","import React, { Component } from \"react\";\nimport firebase, { usersCollection } from \"../../utils/firebase\";\nimport UserContext from \"../../UserContext\";\n\nclass LoginForm extends Component {\n  state = {\n    register: false,\n    user: {\n      email: \"\",\n      password: \"\",\n    },\n  };\n\n  // event handler function\n  handleForm = (e) => {\n    e.preventDefault();\n    const email = this.state.user.email;\n    const password = this.state.user.password;\n\n    if (this.state.register) {\n      firebase\n        .auth()\n        .createUserWithEmailAndPassword(email, password)\n        .then((response) => {\n          // this.handleRegisterUser(user);\n          this.context.setUser(response.user);\n          this.props.history.push(\"/profile\");\n\n          response.user.sendEmailVerification().then(() => {\n            console.log(\"email verification sent\");\n          });\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    } else {\n      firebase\n        .auth()\n        .signInWithEmailAndPassword(email, password)\n        .then((response) => {\n          console.log(response);\n          this.context.setUser(response.user);\n          this.props.history.push(\"/profile\");\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    }\n  };\n\n  changeHandler = (e) => {\n    let name = e.target.name;\n    let value = e.target.value;\n    this.setState((prevState) => ({\n      user: {\n        ...prevState.user,\n        [name]: value,\n      },\n    }));\n  };\n\n  // logs a customer out if they are logged in\n  handleLogout = (e) => {\n    firebase\n      .auth()\n      .signOut()\n      .then(() => {\n          this.props.history.push(\"/\", { message: \"You have been signed out\" })\n        console.log(\"User logged out\");\n      });\n  };\n\n  handleGetUserInfo = () => {\n    let getUser = firebase.auth().currentUser;\n    if (getUser) {\n      console.log(getUser);\n    } else {\n      console.log(\"No User\");\n    }\n  };\n\n  render() {\n    return (\n      <>\n        <form onSubmit={(event) => this.handleForm(event)}>\n          <div className=\"form-group\">\n            <label>Email</label>\n            <input\n              type=\"email\"\n              className=\"form-control\"\n              name=\"email\"\n              onChange={(event) => this.changeHandler(event)}\n            ></input>\n          </div>\n\n          <div className=\"form-group\">\n            <label>Password</label>\n            <input\n              type=\"password\"\n              className=\"form-control\"\n              name=\"password\"\n              onChange={(event) => this.changeHandler(event)}\n            ></input>\n          </div>\n\n          <button type=\"submit\" className=\"btn btn-primary\">\n            {this.state.register ? \"Register\" : \"Sign in\"}\n          </button>\n        </form>\n        <hr />\n        <button onClick={() => this.handleLogout()}>Logout</button>\n      </>\n    );\n  }\n}\n\nLoginForm.contextType = UserContext;\n\nexport default LoginForm;\n","import React, { Component } from \"react\";\nimport Form from \"./form\";\n\nclass Login extends Component {\n  render() {\n    return <Form history={this.props.history} />;\n  }\n}\n\nexport default Login;\n","import React from 'react'\nimport UserContext from \"../../UserContext\";\n\nconst Profile = () =>{\n    const { user } = React.useContext(UserContext);\n\n    return(\n        <div>\n            <div style = {{\n                display: \"flex\",\n                justifyContent: \"space-around\",\n                margin: \"15 px 0px\",\n            }}>\n                <div>\n                    <img style ={{ width: \"160px\", height :\" 160 px\", borderRadius: \"80px\"}}\n                    \n                 />\n                </div>\n                <div>\n                    <h4>Welcome {user.email}</h4>\n                </div>\n                    <div>\n                        <h5>Favorites</h5>\n                    </div>\n        </div>\n    </div>\n\n\n    )\n}\n\nexport default Profile;\n\n\n// import React, { useContext } from 'react';\n// import { Redirect } from 'react-router-dom';\n// import {UserContext} from \"../user/login\";\n// import './Profile.css';\n\n// const Profile = () => {\n//     const user = useContext(UserContext)\n\n//     return (\n//         user ? (\n//         <div>\n//             <h1>Welcome, {user.name}</h1>\n//             <h3>Your Information:</h3>\n//             <h4>Name:</h4>\n//             <p>{user.name}</p>\n//             <h4>Email:</h4>\n//             <p>{user.email}</p>\n//         </div>\n//     ) : (<Redirect to=\"/\"/>)\n//     )\n// }\n// export default Profile;","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom'\nimport UserContext from '../UserContext'\n\nfunction PrivateRoute({ children, ...rest }) {\n  const { user } = React.useContext(UserContext);\n\n  console.log('private route user', user)\n  return (\n    <Route\n      {...rest}\n      render={({ location }) =>\n        user ? (\n          children\n        ) : (\n          <Redirect\n            to={{\n              pathname: \"/login\",\n              state: { from: location }\n            }}\n          />\n        )\n      }\n    />\n  );\n}\n\nexport default PrivateRoute","import React from \"react\";\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\n// import PrivateRoute from './PrivateRoute'\n\n// components\nimport Header from \"./header\";\nimport Footer from \"./footer\";\nimport Map from \"./Map\";\nimport Review from \"./reviews\";\nimport Login from \"./user/login\";\nimport List from \"./reviews/list\";\nimport Profile from \"./profile/index\";\nimport PrivateRoute from \"./privateroute\";\n\nconst Routes = () => (\n  <BrowserRouter>\n    <Header />\n    <main role=\"main\" className=\"container myMain\">\n      <Switch>\n        <Route exact path=\"/\">{(props) => (\n          <div>\n          <h1>Home!</h1>\n          <img src=\"/heart.jpg\" className=\"image_style\"/>\n          {props.location.state && props.location.state.message && (\n            <div className=\"alert alert-primary\">{props.location.state.message}</div>\n          )}\n          </div>\n        )}\n        </Route>\n        <Route exact path=\"/restaurants\" component={Map} />\n        <Route exact path=\"/login\" component={Login} />\n        <Route exact path=\"/reviews\" component={Review} />\n        <PrivateRoute path=\"/profile\">\n          <Profile />\n        </PrivateRoute>\n      </Switch>\n    </main>\n    <Footer />\n  </BrowserRouter>\n);\n\nexport default Routes;\n","import React from \"react\";\n\nimport Routes from \"./components/routes\";\nimport UserContext from \"./UserContext\";\nimport firebase from \"./utils/firebase\";\n\n\n\nconst App = () =>  {\n  const [user, setUser] = React.useState(undefined);\n\n  React.useEffect(() => {\n    firebase.auth().onAuthStateChanged((user) => {\n      setUser(user);\n      if (user) {\n        console.log(user.email);\n        console.log(user.uid);\n      } else {\n        console.log(\"no user logged in\");\n      }\n    });\n  }, []);\n\n  return (\n    <UserContext.Provider value={{ user, setUser }}>\n      <Routes />\n    </UserContext.Provider>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}