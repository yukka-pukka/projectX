{"ast":null,"code":"var _jsxFileName = \"/Users/ada/capstone-scratch/Scratch/src/components/reviews/star.js\";\nimport React from \"react\";\nimport _, { get } from 'lodash';\nimport react, { Component } from 'react'; // // import ReactStars from \"react-rating-stars-component\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Star extends Component {\n  render() {\n    const stars = [];\n\n    for (let i = 0; i < 5; i++) {\n      stars.push( /*#__PURE__*/_jsxDEV(\"svg\", {\n        height: \"25\",\n        width: \"23\",\n        value: \"3.5\",\n        className: \"star rating__star \",\n        \"data-rating\": this.props.rating,\n        onClick: this.props.onClick(i),\n        children: /*#__PURE__*/_jsxDEV(\"polygon\", {\n          points: \"9.9, 1.1, 3.3, 21.78, 19.8, 8.58, 0, 8.58, 16.5, 21.78\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 17,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 15,\n        columnNumber: 24\n      }, this));\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rating\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"rating__prefix font-size-small\",\n        children: \"Review\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"hidden\",\n        name: \"rating\",\n        value: this.props.rating\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: this.props.name,\n        name: \"name\",\n        placeholder: \"Naam\",\n        onChange: this.handleInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 17\n      }, this), stars]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 13\n    }, this);\n  }\n\n} // // const star  = {\n// //     size: 60,\n// //     isHalf: true,\n// //     char: \"ï£¿\",\n// //     value: 3.5,\n//     // onChange: newRating => {\n//     //   console.log(`new rating is ${newRating}`);\n//     // }\n// // }\n// export default Star;\n// function Star( props ){\n//     return (\n//       <div className={`star ${(props.value == 0) ? 'semi-active' : ''} ${(props.position <= props.rated) ? 'active' : ''} `} \n//            onMouseEnter={ props.onMouseEnter }\n//            onMouseLeave={ props.onMouseLeave }\n//            onClick={ props.onClick }\n//       >\n//         <i className=\"fas fa-star\"></i>\n//       </div>\n//     );\n//   }\n\n\nfunction Rating(props) {\n  const messages = {\n    \"1\": \"Oh. Sorry you had a bad experience :( \",\n    \"2\": \"We will try to improve.\",\n    \"3\": \"Appreciate it!\",\n    \"4\": \"Thank you!\",\n    \"5\": \"You're Awesome!\"\n  };\n  let rating = props.rating;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"after-rating-message \" + (rating > 0 ? 'show' : ''),\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      children: [\"You rated this \", rating, \" star\", rating > 1 ? 's' : '']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      children: messages[rating]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 9\n  }, this);\n}\n\n_c = Rating;\n\nclass RatingWidget extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      stars: Array(5).fill(-1),\n      rated: 0\n    };\n  }\n\n  handleMouseOver(i) {\n    let currentRating = this.state.rated;\n\n    if (currentRating > 0) {\n      const hoverRatedStars = this.state.stars.slice();\n\n      _.fill(hoverRatedStars, 0, currentRating, i);\n\n      this.setState({\n        stars: hoverRatedStars\n      });\n    } else {\n      const hoverStars = Array(5).fill(-1);\n\n      _.fill(hoverStars, 0, 0, i + 1);\n\n      this.setState({\n        stars: hoverStars\n      });\n    }\n  }\n\n  handleMouseOut() {\n    let currentRating = this.state.rated;\n\n    if (currentRating > 0) {\n      const resetRatedStars = this.state.stars.slice();\n\n      _.fill(resetRatedStars, -1, currentRating, resetRatedStars.length);\n\n      this.setState({\n        stars: resetRatedStars\n      });\n    } else {\n      const resetStars = this.state.stars.slice();\n\n      _.fill(resetStars, -1, 0, resetStars.length);\n\n      this.setState({\n        stars: resetStars\n      });\n    }\n  }\n\n  handleClick(i) {\n    const clickedStar = this.state.stars.slice();\n\n    _.fill(clickedStar, 1, 0, i);\n\n    _.fill(clickedStar, 1, i, clickedStar.length);\n\n    this.setState({\n      stars: clickedStar,\n      rated: i\n    });\n  }\n\n  handleRating(rating) {\n    return /*#__PURE__*/_jsxDEV(Rating, {\n      rating: this.state.rated\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 15\n    }, this);\n  }\n\n  renderStar(i) {\n    return /*#__PURE__*/_jsxDEV(Star, {\n      position: i,\n      value: this.state.stars[i],\n      rated: this.state.rated,\n      onMouseEnter: () => this.handleMouseOver(i),\n      onMouseLeave: () => this.handleMouseOut(),\n      onClick: () => this.handleClick(i)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 9\n    }, this);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rating-stars-widget-outer\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rating-stars\",\n        children: [this.renderStar(1), this.renderStar(2), this.renderStar(3), this.renderStar(4), this.renderStar(5)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 13\n      }, this), this.handleRating(this.state.rated)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nexport default Star; //   ReactDOM.render(<RatingWidget />, document.getElementById(\"widget\"));\n\nvar _c;\n\n$RefreshReg$(_c, \"Rating\");","map":{"version":3,"sources":["/Users/ada/capstone-scratch/Scratch/src/components/reviews/star.js"],"names":["React","_","get","react","Component","Star","render","stars","i","push","props","rating","onClick","name","handleInputChange","Rating","messages","RatingWidget","constructor","state","Array","fill","rated","handleMouseOver","currentRating","hoverRatedStars","slice","setState","hoverStars","handleMouseOut","resetRatedStars","length","resetStars","handleClick","clickedStar","handleRating","renderStar"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport _, { get } from 'lodash';\nimport react, {Component} from 'react';\n// // import ReactStars from \"react-rating-stars-component\";\n\nclass Star extends Component {\n    render()\n    {\n        \n        const stars = [];\n        \n            \n        for (let i = 0; i < 5; i++)\n        {\n            stars.push(<svg height=\"25\" width=\"23\" value= \"3.5\" className=\"star rating__star \" data-rating={this.props.rating}\n            onClick={this.props.onClick(i)} >\n            <polygon points=\"9.9, 1.1, 3.3, 21.78, 19.8, 8.58, 0, 8.58, 16.5, 21.78\"/>\n            </svg>)\n        }\n                              \n        return (\n            <div className=\"rating\">\n                <span className=\"rating__prefix font-size-small\">Review</span>\n                <input type=\"hidden\" name=\"rating\" value={this.props.rating}/>\n                <input type=\"text\" value={this.props.name} name=\"name\" placeholder=\"Naam\"\n                    onChange={this.handleInputChange}/>\n\n                {stars}\n            </div>\n        );\n    }\n}\n\n// // const star  = {\n// //     size: 60,\n// //     isHalf: true,\n// //     char: \"ï£¿\",\n// //     value: 3.5,\n//     // onChange: newRating => {\n//     //   console.log(`new rating is ${newRating}`);\n//     // }\n// // }\n\n// export default Star;\n\n\n\n\n// function Star( props ){\n//     return (\n//       <div className={`star ${(props.value == 0) ? 'semi-active' : ''} ${(props.position <= props.rated) ? 'active' : ''} `} \n//            onMouseEnter={ props.onMouseEnter }\n//            onMouseLeave={ props.onMouseLeave }\n//            onClick={ props.onClick }\n  \n//       >\n//         <i className=\"fas fa-star\"></i>\n//       </div>\n//     );\n//   }\n\n\n  \n  function Rating( props ){\n    const messages = {\n      \"1\": \"Oh. Sorry you had a bad experience :( \",\n      \"2\": \"We will try to improve.\",\n      \"3\": \"Appreciate it!\",\n      \"4\": \"Thank you!\", \n      \"5\": \"You're Awesome!\"\n    };\n    \n    let rating = props.rating;\n    \n    return(\n        <div className={\"after-rating-message \" + ((rating > 0) ? 'show': '')} >\n            <span>You rated this {rating} star{rating > 1 ? 's' : ''}</span>\n            <br/>\n            <span>{ messages[rating] }</span>\n        </div>\n    );\n  }\n  \n  \n  class RatingWidget extends React.Component {\n    constructor( props ) {\n      super( props );\n      this.state = {\n        stars: Array(5).fill(-1),\n        rated: 0\n      };\n    }\n    \n    handleMouseOver( i ) {\n      let currentRating = this.state.rated;\n      \n      if ( currentRating > 0 ) {\n        const hoverRatedStars = this.state.stars.slice();\n        _.fill( hoverRatedStars, 0, currentRating, i );\n        this.setState({ stars: hoverRatedStars });\n      }\n      else {\n        const hoverStars = Array(5).fill(-1);\n\n        _.fill( hoverStars, 0, 0, (i+1) );     \n        this.setState({ stars: hoverStars});\n      }\n    }\n    \n    handleMouseOut() {\n      let currentRating = this.state.rated;\n      if ( currentRating > 0) {\n        const resetRatedStars = this.state.stars.slice();\n        _.fill( resetRatedStars, -1, currentRating, resetRatedStars.length );\n        this.setState({stars: resetRatedStars});\n      }\n      else {\n        const resetStars = this.state.stars.slice();\n        _.fill( resetStars, -1, 0, resetStars.length );\n        this.setState({stars: resetStars});\n      }\n    }\n    \n    handleClick( i ) {\n      const clickedStar = this.state.stars.slice();\n      \n      _.fill( clickedStar, 1, 0, i );\n      _.fill( clickedStar, 1, i, clickedStar.length );\n        \n      this.setState({\n        stars: clickedStar,\n        rated: i\n      });\n    }\n    \n    \n    handleRating( rating ){\n      return (<Rating rating={this.state.rated} />)\n    }\n    \n    renderStar( i ){\n      return (\n        <Star \n          position={i}\n          value={this.state.stars[i]} \n          rated={this.state.rated}\n          onMouseEnter={ () => this.handleMouseOver(i) }\n          onMouseLeave={ () => this.handleMouseOut() }\n          onClick={ () => this.handleClick(i) }\n          />\n      );\n    }\n    \n    render(){\n      return (\n        <div className='rating-stars-widget-outer'>\n            <div className='rating-stars'>\n              {this.renderStar(1)}\n              {this.renderStar(2)}\n              {this.renderStar(3)}\n              {this.renderStar(4)}\n              {this.renderStar(5)}\n            </div>\n          \n            {this.handleRating( this.state.rated )}\n        </div>\n        \n        \n      );\n    }\n  }\n\n  export default Star;\n\n  \n  \n//   ReactDOM.render(<RatingWidget />, document.getElementById(\"widget\"));\n\n"]},"metadata":{},"sourceType":"module"}