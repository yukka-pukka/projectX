{"ast":null,"code":"var _jsxFileName = \"/Users/ada/capstone-scratch/Scratch/src/components/reviews/star.js\";\nimport React from \"react\";\nimport _ from 'lodash'; // import react, {Component} from 'react';\n// // import ReactStars from \"react-rating-stars-component\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Star extends Component {\n  render() {\n    if (!this.props.isActive) return null;\n    return /*#__PURE__*/_jsxDEV(\"svg\", {\n      height: \"25\",\n      width: \"23\",\n      value: \"3.5\",\n      className: \"star rating__star \",\n      \"data-rating\": this.props.rating,\n      onClick: this.props.onClick,\n      \"data-active\": this.props.isActive,\n      children: /*#__PURE__*/_jsxDEV(\"polygon\", {\n        points: \"9.9, 1.1, 3.3, 21.78, 19.8, 8.58, 0, 8.58, 16.5, 21.78\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 13,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 13\n    }, this);\n  }\n\n} // // const star  = {\n// //     size: 60,\n// //     isHalf: true,\n// //     char: \"\",\n// //     value: 3.5,\n//     // onChange: newRating => {\n//     //   console.log(`new rating is ${newRating}`);\n//     // }\n// // }\n// export default Star;\n// function Star( props ){\n//     return (\n//       <div className={`star ${(props.value == 0) ? 'semi-active' : ''} ${(props.position <= props.rated) ? 'active' : ''} `} \n//            onMouseEnter={ props.onMouseEnter }\n//            onMouseLeave={ props.onMouseLeave }\n//            onClick={ props.onClick }\n//       >\n//         <i className=\"fas fa-star\"></i>\n//       </div>\n//     );\n//   }\n\n\nfunction Rating(props) {\n  const messages = {\n    \"1\": \"Oh. Sorry you had a bad experience :( \",\n    \"2\": \"We will try to improve.\",\n    \"3\": \"Appreciate it!\",\n    \"4\": \"Thank you!\",\n    \"5\": \"You're Awesome!\"\n  };\n  let rating = props.rating;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"after-rating-message \" + (rating > 0 ? 'show' : ''),\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      children: [\"You rated this \", rating, \" star\", rating > 1 ? 's' : '']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      children: messages[rating]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 9\n  }, this);\n}\n\n_c = Rating;\n\nclass RatingWidget extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      stars: Array(5).fill(-1),\n      rated: 0\n    };\n  }\n\n  handleMouseOver(i) {\n    let currentRating = this.state.rated;\n\n    if (currentRating > 0) {\n      const hoverRatedStars = this.state.stars.slice();\n\n      _.fill(hoverRatedStars, 0, currentRating, i);\n\n      this.setState({\n        stars: hoverRatedStars\n      });\n    } else {\n      const hoverStars = Array(5).fill(-1);\n\n      _.fill(hoverStars, 0, 0, i + 1);\n\n      this.setState({\n        stars: hoverStars\n      });\n    }\n  }\n\n  handleMouseOut() {\n    let currentRating = this.state.rated;\n\n    if (currentRating > 0) {\n      const resetRatedStars = this.state.stars.slice();\n\n      _.fill(resetRatedStars, -1, currentRating, resetRatedStars.length);\n\n      this.setState({\n        stars: resetRatedStars\n      });\n    } else {\n      const resetStars = this.state.stars.slice();\n\n      _.fill(resetStars, -1, 0, resetStars.length);\n\n      this.setState({\n        stars: resetStars\n      });\n    }\n  }\n\n  handleClick(i) {\n    const clickedStar = this.state.stars.slice();\n\n    _.fill(clickedStar, 1, 0, i);\n\n    _.fill(clickedStar, 1, i, clickedStar.length);\n\n    this.setState({\n      stars: clickedStar,\n      rated: i\n    });\n  }\n\n  handleRating(rating) {\n    return /*#__PURE__*/_jsxDEV(Rating, {\n      rating: this.state.rated\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 15\n    }, this);\n  }\n\n  renderStar(i) {\n    return /*#__PURE__*/_jsxDEV(Star, {\n      position: i,\n      value: this.state.stars[i],\n      rated: this.state.rated,\n      onMouseEnter: () => this.handleMouseOver(i),\n      onMouseLeave: () => this.handleMouseOut(),\n      onClick: () => this.handleClick(i)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }, this);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rating-stars-widget-outer\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rating-stars\",\n        children: [this.renderStar(1), this.renderStar(2), this.renderStar(3), this.renderStar(4), this.renderStar(5)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 13\n      }, this), this.handleRating(this.state.rated)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nexport default Star; //   ReactDOM.render(<RatingWidget />, document.getElementById(\"widget\"));\n\nvar _c;\n\n$RefreshReg$(_c, \"Rating\");","map":{"version":3,"sources":["/Users/ada/capstone-scratch/Scratch/src/components/reviews/star.js"],"names":["React","_","Star","Component","render","props","isActive","rating","onClick","Rating","messages","RatingWidget","constructor","state","stars","Array","fill","rated","handleMouseOver","i","currentRating","hoverRatedStars","slice","setState","hoverStars","handleMouseOut","resetRatedStars","length","resetStars","handleClick","clickedStar","handleRating","renderStar"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport _ from 'lodash';\n// import react, {Component} from 'react';\n// // import ReactStars from \"react-rating-stars-component\";\n\nclass Star extends Component {\n    render()\n    {\n        if (!this.props.isActive) return null\n        return (\n            <svg height=\"25\" width=\"23\" value= \"3.5\" className=\"star rating__star \" data-rating={this.props.rating}\n                 onClick={this.props.onClick} data-active={this.props.isActive}>\n                <polygon points=\"9.9, 1.1, 3.3, 21.78, 19.8, 8.58, 0, 8.58, 16.5, 21.78\"/>\n            </svg>\n        );\n    }\n}\n\n// // const star  = {\n// //     size: 60,\n// //     isHalf: true,\n// //     char: \"\",\n// //     value: 3.5,\n//     // onChange: newRating => {\n//     //   console.log(`new rating is ${newRating}`);\n//     // }\n// // }\n\n// export default Star;\n\n\n\n\n// function Star( props ){\n//     return (\n//       <div className={`star ${(props.value == 0) ? 'semi-active' : ''} ${(props.position <= props.rated) ? 'active' : ''} `} \n//            onMouseEnter={ props.onMouseEnter }\n//            onMouseLeave={ props.onMouseLeave }\n//            onClick={ props.onClick }\n  \n//       >\n//         <i className=\"fas fa-star\"></i>\n//       </div>\n//     );\n//   }\n\n\n  \n  function Rating( props ){\n    const messages = {\n      \"1\": \"Oh. Sorry you had a bad experience :( \",\n      \"2\": \"We will try to improve.\",\n      \"3\": \"Appreciate it!\",\n      \"4\": \"Thank you!\", \n      \"5\": \"You're Awesome!\"\n    };\n    \n    let rating = props.rating;\n    \n    return(\n        <div className={\"after-rating-message \" + ((rating > 0) ? 'show': '')} >\n            <span>You rated this {rating} star{rating > 1 ? 's' : ''}</span>\n            <br/>\n            <span>{ messages[rating] }</span>\n        </div>\n    );\n  }\n  \n  \n  class RatingWidget extends React.Component {\n    constructor( props ) {\n      super( props );\n      this.state = {\n        stars: Array(5).fill(-1),\n        rated: 0\n      };\n    }\n    \n    handleMouseOver( i ) {\n      let currentRating = this.state.rated;\n      \n      if ( currentRating > 0 ) {\n        const hoverRatedStars = this.state.stars.slice();\n        _.fill( hoverRatedStars, 0, currentRating, i );\n        this.setState({ stars: hoverRatedStars });\n      }\n      else {\n        const hoverStars = Array(5).fill(-1);\n\n        _.fill( hoverStars, 0, 0, (i+1) );     \n        this.setState({ stars: hoverStars});\n      }\n    }\n    \n    handleMouseOut() {\n      let currentRating = this.state.rated;\n      if ( currentRating > 0) {\n        const resetRatedStars = this.state.stars.slice();\n        _.fill( resetRatedStars, -1, currentRating, resetRatedStars.length );\n        this.setState({stars: resetRatedStars});\n      }\n      else {\n        const resetStars = this.state.stars.slice();\n        _.fill( resetStars, -1, 0, resetStars.length );\n        this.setState({stars: resetStars});\n      }\n    }\n    \n    handleClick( i ) {\n      const clickedStar = this.state.stars.slice();\n      \n      _.fill( clickedStar, 1, 0, i );\n      _.fill( clickedStar, 1, i, clickedStar.length );\n        \n      this.setState({\n        stars: clickedStar,\n        rated: i\n      });\n    }\n    \n    \n    handleRating( rating ){\n      return (<Rating rating={this.state.rated} />)\n    }\n    \n    renderStar( i ){\n      return (\n        <Star \n          position={i}\n          value={this.state.stars[i]} \n          rated={this.state.rated}\n          onMouseEnter={ () => this.handleMouseOver(i) }\n          onMouseLeave={ () => this.handleMouseOut() }\n          onClick={ () => this.handleClick(i) }\n          />\n      );\n    }\n    \n    render(){\n      return (\n        <div className='rating-stars-widget-outer'>\n            <div className='rating-stars'>\n              {this.renderStar(1)}\n              {this.renderStar(2)}\n              {this.renderStar(3)}\n              {this.renderStar(4)}\n              {this.renderStar(5)}\n            </div>\n          \n            {this.handleRating( this.state.rated )}\n        </div>\n        \n        \n      );\n    }\n  }\n\n  export default Star;\n\n  \n  \n//   ReactDOM.render(<RatingWidget />, document.getElementById(\"widget\"));\n\n"]},"metadata":{},"sourceType":"module"}