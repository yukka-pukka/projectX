{"ast":null,"code":"var _jsxFileName = \"/Users/ada/capstone-scratch/Scratch/src/components/reviews/star.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\n// // import React from \"react\";\n// // import ReactStars from \"react-rating-stars-component\";\n// import React, {Component} from 'react';\n// import ReactStars from \"react-rating-stars-component\";\n// class Star extends Component {\n//     render()\n//     {\n//         if (!this.props.isActive) return null\n//         return (\n//             <svg height=\"25\" width=\"23\" value= \"3.5\" className=\"star rating__star \" data-rating={this.props.rating}\n//                  onClick={this.props.onClick} data-active={this.props.isActive}>\n//                 <polygon points=\"9.9, 1.1, 3.3, 21.78, 19.8, 8.58, 0, 8.58, 16.5, 21.78\"/>\n//             </svg>\n//         );\n//     }\n// }\n// // const star  = {\n// //     size: 60,\n// //     isHalf: true,\n// //     char: \"ï£¿\",\n// //     value: 3.5,\n//     // onChange: newRating => {\n//     //   console.log(`new rating is ${newRating}`);\n//     // }\n// // }\n// export default Star;\nfunction Star(props) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `star ${props.value == 0 ? 'semi-active' : ''} ${props.position <= props.rated ? 'active' : ''} `,\n    onMouseEnter: props.onMouseEnter,\n    onMouseLeave: props.onMouseLeave,\n    onClick: props.onClick,\n    children: /*#__PURE__*/_jsxDEV(\"i\", {\n      className: \"fas fa-star\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 7\n  }, this);\n}\n\n_c = Star;\n\nfunction Rating(props) {\n  const messages = {\n    \"1\": \"Oh. Sorry you had a bad experience :( \",\n    \"2\": \"We will try to improve.\",\n    \"3\": \"Appreciate it!\",\n    \"4\": \"Thank you!\",\n    \"5\": \"You're Awesome!\"\n  };\n  let rating = props.rating;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"after-rating-message \" + (rating > 0 ? 'show' : ''),\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      children: [\"You rated this \", rating, \" star\", rating > 1 ? 's' : '']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      children: messages[rating]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 9\n  }, this);\n}\n\n_c2 = Rating;\n\nclass RatingWidget extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      stars: Array(5).fill(-1),\n      rated: 0\n    };\n  }\n\n  handleMouseOver(i) {\n    let currentRating = this.state.rated;\n\n    if (currentRating > 0) {\n      const hoverRatedStars = this.state.stars.slice();\n\n      _.fill(hoverRatedStars, 0, currentRating, i);\n\n      this.setState({\n        stars: hoverRatedStars\n      });\n    } else {\n      const hoverStars = Array(5).fill(-1);\n\n      _.fill(hoverStars, 0, 0, i + 1);\n\n      this.setState({\n        stars: hoverStars\n      });\n    }\n  }\n\n  handleMouseOut() {\n    let currentRating = this.state.rated;\n\n    if (currentRating > 0) {\n      const resetRatedStars = this.state.stars.slice();\n\n      _.fill(resetRatedStars, -1, currentRating, resetRatedStars.length);\n\n      this.setState({\n        stars: resetRatedStars\n      });\n    } else {\n      const resetStars = this.state.stars.slice();\n\n      _.fill(resetStars, -1, 0, resetStars.length);\n\n      this.setState({\n        stars: resetStars\n      });\n    }\n  }\n\n  handleClick(i) {\n    const clickedStar = this.state.stars.slice();\n\n    _.fill(clickedStar, 1, 0, i);\n\n    _.fill(clickedStar, 1, i, clickedStar.length);\n\n    this.setState({\n      stars: clickedStar,\n      rated: i\n    });\n  }\n\n  handleRating(rating) {\n    return /*#__PURE__*/_jsxDEV(Rating, {\n      rating: this.state.rated\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 15\n    }, this);\n  }\n\n  renderStar(i) {\n    return /*#__PURE__*/_jsxDEV(Star, {\n      position: i,\n      value: this.state.stars[i],\n      rated: this.state.rated,\n      onMouseEnter: () => this.handleMouseOver(i),\n      onMouseLeave: () => this.handleMouseOut(),\n      onClick: () => this.handleClick(i)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }, this);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rating-stars-widget-outer\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rating-stars\",\n        children: [this.renderStar(1), this.renderStar(2), this.renderStar(3), this.renderStar(4), this.renderStar(5)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 13\n      }, this), this.handleRating(this.state.rated)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nexport default Star; //   ReactDOM.render(<RatingWidget />, document.getElementById(\"widget\"));\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Star\");\n$RefreshReg$(_c2, \"Rating\");","map":{"version":3,"sources":["/Users/ada/capstone-scratch/Scratch/src/components/reviews/star.js"],"names":["Star","props","value","position","rated","onMouseEnter","onMouseLeave","onClick","Rating","messages","rating","RatingWidget","React","Component","constructor","state","stars","Array","fill","handleMouseOver","i","currentRating","hoverRatedStars","slice","_","setState","hoverStars","handleMouseOut","resetRatedStars","length","resetStars","handleClick","clickedStar","handleRating","renderStar","render"],"mappings":"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","sourcesContent":["// // import React from \"react\";\n// // import ReactStars from \"react-rating-stars-component\";\n\n\n// import React, {Component} from 'react';\n// import ReactStars from \"react-rating-stars-component\";\n\n// class Star extends Component {\n//     render()\n//     {\n//         if (!this.props.isActive) return null\n//         return (\n//             <svg height=\"25\" width=\"23\" value= \"3.5\" className=\"star rating__star \" data-rating={this.props.rating}\n//                  onClick={this.props.onClick} data-active={this.props.isActive}>\n//                 <polygon points=\"9.9, 1.1, 3.3, 21.78, 19.8, 8.58, 0, 8.58, 16.5, 21.78\"/>\n//             </svg>\n//         );\n//     }\n// }\n\n// // const star  = {\n// //     size: 60,\n// //     isHalf: true,\n// //     char: \"ï£¿\",\n// //     value: 3.5,\n//     // onChange: newRating => {\n//     //   console.log(`new rating is ${newRating}`);\n//     // }\n// // }\n\n// export default Star;\n\n\n\n\nfunction Star( props ){\n    return (\n      <div className={`star ${(props.value == 0) ? 'semi-active' : ''} ${(props.position <= props.rated) ? 'active' : ''} `} \n           onMouseEnter={ props.onMouseEnter }\n           onMouseLeave={ props.onMouseLeave }\n           onClick={ props.onClick }\n  \n      >\n        <i className=\"fas fa-star\"></i>\n      </div>\n    );\n  }\n  \n  function Rating( props ){\n    const messages = {\n      \"1\": \"Oh. Sorry you had a bad experience :( \",\n      \"2\": \"We will try to improve.\",\n      \"3\": \"Appreciate it!\",\n      \"4\": \"Thank you!\", \n      \"5\": \"You're Awesome!\"\n    };\n    \n    let rating = props.rating;\n    \n    return(\n        <div className={\"after-rating-message \" + ((rating > 0) ? 'show': '')} >\n            <span>You rated this {rating} star{rating > 1 ? 's' : ''}</span>\n            <br/>\n            <span>{ messages[rating] }</span>\n        </div>\n    );\n  }\n  \n  \n  class RatingWidget extends React.Component {\n    constructor( props ) {\n      super( props );\n      this.state = {\n        stars: Array(5).fill(-1),\n        rated: 0\n      };\n    }\n    \n    handleMouseOver( i ) {\n      let currentRating = this.state.rated;\n      \n      if ( currentRating > 0 ) {\n        const hoverRatedStars = this.state.stars.slice();\n        _.fill( hoverRatedStars, 0, currentRating, i );\n        this.setState({ stars: hoverRatedStars });\n      }\n      else {\n        const hoverStars = Array(5).fill(-1);\n        _.fill( hoverStars, 0, 0, (i+1) );     \n        this.setState({ stars: hoverStars});\n      }\n    }\n    \n    handleMouseOut() {\n      let currentRating = this.state.rated;\n      if ( currentRating > 0) {\n        const resetRatedStars = this.state.stars.slice();\n        _.fill( resetRatedStars, -1, currentRating, resetRatedStars.length );\n        this.setState({stars: resetRatedStars});\n      }\n      else {\n        const resetStars = this.state.stars.slice();\n        _.fill( resetStars, -1, 0, resetStars.length );\n        this.setState({stars: resetStars});\n      }\n    }\n    \n    handleClick( i ) {\n      const clickedStar = this.state.stars.slice();\n      \n      _.fill( clickedStar, 1, 0, i );\n      _.fill( clickedStar, 1, i, clickedStar.length );\n        \n      this.setState({\n        stars: clickedStar,\n        rated: i\n      });\n    }\n    \n    \n    handleRating( rating ){\n      return (<Rating rating={this.state.rated} />)\n    }\n    \n    renderStar( i ){\n      return (\n        <Star \n          position={i}\n          value={this.state.stars[i]} \n          rated={this.state.rated}\n          onMouseEnter={ () => this.handleMouseOver(i) }\n          onMouseLeave={ () => this.handleMouseOut() }\n          onClick={ () => this.handleClick(i) }\n          />\n      );\n    }\n    \n    render(){\n      return (\n        <div className='rating-stars-widget-outer'>\n            <div className='rating-stars'>\n              {this.renderStar(1)}\n              {this.renderStar(2)}\n              {this.renderStar(3)}\n              {this.renderStar(4)}\n              {this.renderStar(5)}\n            </div>\n          \n            {this.handleRating( this.state.rated )}\n        </div>\n        \n        \n      );\n    }\n  }\n\n  export default Star;\n\n  \n  \n//   ReactDOM.render(<RatingWidget />, document.getElementById(\"widget\"));\n\n"]},"metadata":{},"sourceType":"module"}